; MSX PSG proPLAYER V 0.3 - WYZ 09.03.2016


WYZ_FLAGS:         rb 1		;INTERRUPTORES 1=ON 0=OFF
                                ;BIT 0=CARGA CANCION ON/OFF
                                ;BIT 1=PLAYER ON/OFF
                                ;BIT 2=EFECTOS ON/OFF
                                ;BIT 3=SFX ON/OFF
                                ;BIT 4=LOOP

	IFDEF CFG_WYZ_HYBRID
HYBRID:		rb 1		;TEMPO HIBRIDO
				;BIT 7 = HYBRID ON/OFF
				;BIT 6 = ALTERNADOR
	ENDIF ; IFDEF CFG_WYZ_HYBRID

	IFDEF CFG_WYZ_FADE
FADE:		rb 1		;BIT 0 FADE OUT ON/OFF
				;BIT 1 FADE IN  ON/OFF
	ENDIF ; IFDEF CFG_WYZ_FADE

;MUSICA **** EL ORDEN DE LAS VARIABLES ES FIJO ******


; SONG:            rb 1		;DB No. DE CANCION
TEMPO:           rb 1		;DB TEMPO
TTEMPO:          rb 1		;DB CONTADOR TEMPO

PUNTERO_A:       rw 1		;DW PUNTERO DEL CANAL A
PUNTERO_B:       rw 1		;DW PUNTERO DEL CANAL B
PUNTERO_C:       rw 1		;DW PUNTERO DEL CANAL C

CANAL_A:         rw 1		;DW DIRECION DE INICIO DE LA MUSICA A
CANAL_B:         rw 1		;DW DIRECION DE INICIO DE LA MUSICA B
CANAL_C:         rw 1		;DW DIRECION DE INICIO DE LA MUSICA C

PUNTERO_P_A:     rw 1		;DW PUNTERO PAUTA CANAL A
PUNTERO_P_B:     rw 1		;DW PUNTERO PAUTA CANAL B
PUNTERO_P_C:     rw 1		;DW PUNTERO PAUTA CANAL C

PUNTERO_P_A0:    rw 1		;DW INI PUNTERO PAUTA CANAL A
PUNTERO_P_B0:    rw 1		;DW INI PUNTERO PAUTA CANAL B
PUNTERO_P_C0:    rw 1		;DW INI PUNTERO PAUTA CANAL C

PUNTERO_P_DECA: rw 1		;DW PUNTERO DE INICIO DEL DECODER CANAL A
PUNTERO_P_DECB:	rw 1		;DW PUNTERO DE INICIO DEL DECODER CANAL B
PUNTERO_P_DECC:	rw 1		;DW PUNTERO DE INICIO DEL DECODER CANAL C

PUNTERO_DECA:	rw 1		;DW PUNTERO DECODER CANAL A
PUNTERO_DECB:	rw 1		;DW PUNTERO DECODER CANAL B
PUNTERO_DECC:	rw 1		;DW PUNTERO DECODER CANAL C

REG_NOTA_A:	rb 1		;DB REGISTRO DE LA NOTA EN EL CANAL A
VOL_INST_A:	rb 1		;DB VOLUMEN RELATIVO DEL INSTRUMENTO DEL CANAL A
REG_NOTA_B:	rb 1		;DB REGISTRO DE LA NOTA EN EL CANAL B
VOL_INST_B:	rb 1		;DB VOLUMEN RELATIVO DEL INSTRUMENTO DEL CANAL B					;VACIO
REG_NOTA_C:	rb 1		;DB REGISTRO DE LA NOTA EN EL CANAL C
VOL_INST_C:	rb 1		;DB VOLUMEN RELATIVO DEL INSTRUMENTO DEL CANAL C

PUNTERO_L_DECA:	rw 1		;DW PUNTERO DE INICIO DEL LOOP DEL DECODER CANAL A
PUNTERO_L_DECB:	rw 1		;DW PUNTERO DE INICIO DEL LOOP DEL DECODER CANAL B
PUNTERO_L_DECC:	rw 1		;DW PUNTERO DE INICIO DEL LOOP DEL DECODER CANAL C

;CANAL DE EFECTOS DE RITMO - ENMASCARA OTRO CANAL

PUNTERO_P:       rw 1		;DW PUNTERO DEL CANAL EFECTOS
CANAL_P:         rw 1		;DW DIRECION DE INICIO DE LOS EFECTOS
PUNTERO_P_DECP:	 rw 1		;DW PUNTERO DE INICIO DEL DECODER CANAL P
PUNTERO_DECP:	 rw 1		;DW PUNTERO DECODER CANAL P
PUNTERO_L_DECP:	 rw 1		;DW PUNTERO DE INICIO DEL LOOP DEL DECODER CANAL P

SFX_L:		rw 1		;DW DIRECCION BUFFER EFECTOS DE RITMO REGISTRO BAJO
SFX_H:		rw 1		;DW DIRECCION BUFFER EFECTOS DE RITMO REGISTRO ALTO
SFX_V:		rw 1		;DW DIRECCION BUFFER EFECTOS DE RITMO REGISTRO VOLUMEN
SFX_MIX:	rw 1		;DW DIRECCION BUFFER EFECTOS DE RITMO REGISTRO MIXER


;EFECTOS DE SONIDO

; N_SONIDO:        rb 1		;DB : NUMERO DE SONIDO
PUNTERO_SONIDO:  rw 1		;DW : PUNTERO DEL SONIDO QUE SE REPRODUCE



;DB [13] BUFFERs DE REGISTROS DEL PSG

PSG_REG:         rb $10
PSG_REG_SEC:	 rb $10
ENVOLVENTE:	 rb 1		;DB : FORMA DE LA ENVOLVENTE
               				;BIT 0	  : FRECUENCIA CANAL ON/OFF
               				;BIT 1-2  : RATIO
               				;BIT 3-3  : FORMA
ENVOLVENTE_BACK: rb 1		;DB:	BACKUP DE LA FORMA DE LA ENVOLENTE
;_______________________________________________________________________________________

;_______________________________________________________________________________________

;* RESERVAR MEMORIA PARA BUFFER DE SONIDO!!!!!

BUFFER_CANAL_A:	rb $20
BUFFER_CANAL_B:	rb $20
BUFFER_CANAL_C:	rb $20
BUFFER_CANAL_P:	rb $20
;_______________________________________________________________________________________

;_______________________________________________________________________________________
	IFDEF CFG_WYZ_FADE

;FADE_OUT

FADE_METER:	rb 1		;DB FADE_METER (TIEMPO DE ACTUACION)
DECAY:		rb 1		;DB CADENCIA>1
DECAY_TEMP:	rb 1		;DB

	ENDIF ; IFDEF CFG_WYZ_FADE
;______________________________________________________

;______________________________________________________
	IFDEF CFG_WYZ_SFX

;REPRODUCE EFECTOS DE SONIDO

PUNTERO_FX_SONIDO:	rw 1

	ENDIF ; IFDEF CFG_WYZ_SFX
;______________________________________________________

